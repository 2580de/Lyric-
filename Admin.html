<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - Lyric Room</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Admin Panel</h1>
<div id="userList"></div>
<div id="roomList"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, onValue, remove } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

const firebaseConfig = { /* YOUR CONFIG */ };
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// Users
onValue(ref(db, 'users/'), snapshot => {
    const userList = document.getElementById('userList');
    userList.innerHTML = '<h2>Users</h2>';
    snapshot.forEach(user => {
        const div = document.createElement('div');
        div.textContent = user.key + ' - ' + user.val().name;
        const delBtn = document.createElement('button');
        delBtn.textContent = 'Delete';
        delBtn.onclick = () => remove(ref(db, 'users/' + user.key));
        div.appendChild(delBtn);
        userList.appendChild(div);
    });
});

// Rooms
onValue(ref(db, 'rooms/'), snapshot => {
    const roomList = document.getElementById('roomList');
    roomList.innerHTML = '<h2>Rooms</h2>';
    snapshot.forEach(room => {
        const div = document.createElement('div');
        div.textContent = room.key + ' - ' + room.val().name;
        roomList.appendChild(div);
    });
});
</script>
</body>
</html>